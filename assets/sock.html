<html>
<head>
  <style type="text/css">
	#footer { position: fixed;
	bottom: 0px;
	width: 100%;
	height: 15%;}

	#chat { height: 87%;
	overflow-y: scroll;
	}

	#chat::-webkit-scrollbar { width: 0 !important }
  </style>
</head>
<body>

  <div id="chat">
	<script>
	var exampleSocket = new WebSocket("ws://localhost:1922/ws");

	exampleSocket.onmessage = function (event) {
		document.getElementById('chat').innerHTML += event.data;
		document.getElementById('chat').innerHTML += '<br>';
			document.getElementById('chat').scrollTop = document.getElementById('chat').scrollHeight;
	}
	
	function sendMessage() {
		exampleSocket.send(document.getElementById("chatmsg").value);
			document.getElementById('chatmsg').value = "";
	}

	function process(e) {
		var code = (e.keyCode ? e.keyCode : e.which);
		if (code == 13) { //Enter keycode
				sendMessage();
			if(event.preventDefault) event.preventDefault();
			return false;
		}
	}
	</script>
  </div>
  <div id="footer">
	<br>
	<textarea id="chatmsg" style="width: 98.5%; height: 55%; margin-bottom: 10px; resize: none;" onkeypress="process(event, this)"></textarea>

	<input type="submit" value="Chat" onclick="sendMessage()" />
  </div>
  
</body>
</html>
