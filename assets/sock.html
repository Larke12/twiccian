<html>
<head>
  <style type="text/css">
        body { background-color: #1E1E1E; }
    
	#footer { position: fixed;
	bottom: 0px;
	width: 100%;
	height: 15%; }

	#chat { height: 87%;
	overflow-y: scroll; }

	#chat::-webkit-scrollbar { width: 0 !important }

	#username { font-style: bold;
	color: red; }

	#text { color: #D3D3BD; }
	
	#msg { padding-bottom: 5px; }

	.boxsizingBorder { -webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
        box-sizing: border-box;	}

	input[type="text"], textarea {background-color : #141414; 
	color: #A9A9A4;
	border-color: black;
	font-size: 14px;
	}

	input[type="submit"], button { background-color: #7550BA;
	color: white;
	font-size: 16px;
	font-weight: bold;
	padding-left: 50px;
	padding-right: 50px;
	padding-top: 5px;
	padding-bottom: 5px;
	border: 1px solid #5E4094;
	float: right;
	margin-right: 15px;
	}
  </style>
</head>
<body>

  <div id="chat">
	<script>
	var exampleSocket = new WebSocket("ws://localhost:1922/ws");

	exampleSocket.onmessage = function (event) {
		document.getElementById('chat').innerHTML += '<div id="msg">';
		document.getElementById('chat').innerHTML += event.data;
		document.getElementById('chat').innerHTML += '<br></div>';
			document.getElementById('chat').scrollTop = document.getElementById('chat').scrollHeight;
	}
	
	function sendMessage() {
		exampleSocket.send(document.getElementById("chatmsg").value);
			document.getElementById('chatmsg').value = "";
	}

	function process(e) {
		var code = (e.keyCode ? e.keyCode : e.which);
		if (code == 13) { //Enter keycode
				sendMessage();
			if(event.preventDefault) event.preventDefault();
			return false;
		}
	}
	</script>
  </div>
  <div id="footer">
	<br>
	<textarea id="chatmsg" style="width: 98%; height: 55%; margin-bottom: 10px; margin-right: 5px; margin-left: -3px; padding: 3px; resize: none;" onkeypress="process(event, this)"></textarea>

	<input type="submit" value="Chat" onclick="sendMessage()" />
  </div>
  
</body>
</html>
